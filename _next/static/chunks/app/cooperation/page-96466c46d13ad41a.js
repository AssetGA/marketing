(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31],{7227:function(e,t,n){Promise.resolve().then(n.bind(n,34)),Promise.resolve().then(n.t.bind(n,5250,23))},34:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(7437),a=n(2265),r=n(4404),l=n.n(r);let i=e=>{let{label:t,type:n,name:a,value:r,onChange:l,error:i,placeholder:o}=e;return(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"tracking-wide py-2 px-5",children:t}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:n,name:a,value:r,onChange:l,className:"bg-cyan-50 w-72 rounded-md px-2",placeholder:o}),i&&(0,s.jsx)("div",{className:"flex justify-center text-xs text-red-400",children:i})]})]})};i.propTypes={label:l().string,type:l().string,name:l().string,value:l().string,onChange:l().func,error:l().string,placeholder:l().string};var o=n(7908),d=n(6123),c=JSON.parse('{"_d":"https://go-app-bot.vercel.app/api","FG":false}');let u=o.Z.create({baseURL:c._d});u.interceptors.response.use(e=>{if(c.FG){var t;e.data={content:(t=e.data)&&!t._id?Object.keys(t).map(e=>({...t[e]})):t}}return e.data={content:e.data},e},function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),d.toast.error("Something was wrong. Try it later")),Promise.reject(e)});let p={get:u.get,post:u.post,put:u.put,delete:u.delete,patch:u.patch};var m={get:async e=>{let{data:t}=await p.get("",{params:{name:"".concat(e.name),phone:"".concat(e.phone),type:"".concat(e.type)}},{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});return t}},h=e=>{let{type:t,buttonName:n}=e,[r,l]=a.useState(!1),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)({name:"",phone:""}),[p,h]=(0,a.useState)({}),g={check:{isRequired:{message:"Введите ваше имя"}},name:{isRequired:{message:"Введите ваше имя"}},phone:{isRequired:{message:"Введите ваш номер телефона"},isContainDigit:{message:"Введите только цифры"},min:{message:"Минимум 10 символов",value:10},max:{message:"Максимум 10 символов",value:10}},address:{isRequired:{message:"Введите точный адрес доставки"}}};(0,a.useEffect)(()=>{(async()=>{await f()})()},[c]);let x=e=>{let{target:t}=e;u(e=>({...e,[t.name]:t.value}))},b=async()=>{try{await m.get({...c,type:t})&&(d(!0),u({name:"",phone:"",type:""}))}catch(e){console.log("error",e.message)}},f=()=>{let e=function(e,t){let n={};for(let s in e)for(let a in t[s]){let r=function(e,t,n){let s;switch(e){case"isRequired":s="boolean"==typeof t?!t:""===t;break;case"isEmail":s=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalSymbol":s=!/[A-Z]+/g.test(t);break;case"isContainDigit":s=!/\d+/g.test(t);break;case"min":s=t.length<n.value;break;case"max":s=t.length>n.value}if(s)return n.message}(a,e[s],t[s][a]);r&&!n[s]&&(n[s]=r)}return n}(c,g);return h(e),0===Object.keys(e).length},y=0===Object.keys(p).length;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center py-5 md:py-20",children:(0,s.jsx)("button",{className:"bg-gradient-to-r from-indigo-500 hover:bg-blue-600 hover:text-white text-xl font-bold text-blue-200 rounded-md ring-4 hover:ring-lime-400 py-3 px-10 shadow-lg",type:"button",onClick:()=>l(!0),children:n})}),r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,s.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,s.jsx)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:o?(0,s.jsx)("div",{className:"flex justify-center",onClick:()=>{l(!1),d(!1)},children:(0,s.jsx)("p",{className:"text-wrap font-bold py-10 mx-10",children:"С Вами свяжется менеджер в ближаейшее время!"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-start justify-between px-16 py-10 border-b border-solid border-blueGray-200 rounded-t",children:(0,s.jsx)("p",{className:"text-2xl font-semibold font-serif",children:"Мы с Вами свяжемся"})}),(0,s.jsx)("div",{className:"relative py-6 px-10 flex-auto",children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!f())return},children:[(0,s.jsx)(i,{label:"Имя",name:"name",type:"name",value:c.name.trim(),onChange:x,error:p.name,placeholder:"Edige"}),(0,s.jsx)(i,{label:"Номер whatsapp",name:"phone",type:"phone",value:c.phone.trim(),onChange:x,error:p.phone,placeholder:"7091112233"})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between flex-row px-11 py-8 border-t border-solid border-blueGray-200 rounded-b",children:[(0,s.jsx)("button",{className:"bg-gradient-to-r from-indigo-500 hover:bg-blue-600 hover:text-white text-xl font-bold text-blue-200 rounded-md ring-4 hover:ring-lime-400 py-1 px-4 shadow-lg",type:"button",onClick:()=>l(!1),children:"Закрыть"}),(0,s.jsx)("button",{className:"bg-gradient-to-r from-indigo-500 hover:bg-blue-600 hover:text-white text-xl font-bold text-blue-200 rounded-md ring-4 hover:ring-lime-400 py-1 px-4 shadow-lg",type:"button",onClick:b,disabled:!y,children:"Отправить"})]})]})})})}),(0,s.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}}},function(e){e.O(0,[123,811,250,971,69,744],function(){return e(e.s=7227)}),_N_E=e.O()}]);